{"ast":null,"code":"var _jsxFileName = \"/Users/puwong/Developer/senior/gypstore/frontend/src/features/product/ProductDetailPage.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled from '@emotion/styled';\nimport { Footer } from '../../component/Footer';\nimport { Navbar } from '../navigation/Navbar';\nimport { NavBreadcrumb } from '../navigation/NavBreadcrumb';\nimport { ProductDetail } from './ProductDetail';\nimport { ProductRelated } from './ProductRelated';\nimport { useRouter } from 'next/router';\nimport { useQuery } from '@apollo/react-hooks';\nimport { GET_PRODUCT_DETAIL } from './gql';\nconst Container = styled.div`\n  padding: 3rem 0rem;\n  width: 100%;\n  margin: auto;\n  background-color: #ececec;\n`;\nexport const ProductDetailPage = () => {\n  var _router$query, _product$category, _product$category2;\n\n  const router = useRouter();\n  const productId = router === null || router === void 0 ? void 0 : (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.pid;\n  console.log(productId);\n  const {\n    data,\n    loading\n  } = useQuery(GET_PRODUCT_DETAIL, {\n    variables: {\n      id: productId\n    },\n    skip: !productId\n  });\n  if (!router) return null;\n  if (loading) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Loading...\");\n  if (!data) return null;\n  const product = data === null || data === void 0 ? void 0 : data.productItem;\n  const nav = [{\n    link: '/',\n    icon: 'home',\n    text: 'Home'\n  }, {\n    link: `/category/${(product === null || product === void 0 ? void 0 : (_product$category = product.category) === null || _product$category === void 0 ? void 0 : _product$category.name) || 'แผ่นยิปซั่ม'}`,\n    text: (product === null || product === void 0 ? void 0 : (_product$category2 = product.category) === null || _product$category2 === void 0 ? void 0 : _product$category2.name) || 'แผ่นยิปซั่ม'\n  }, {\n    link: `/product/${(product === null || product === void 0 ? void 0 : product.id) || ''}`,\n    text: (product === null || product === void 0 ? void 0 : product.name) || ''\n  }];\n  return __jsx(React.Fragment, null, __jsx(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(NavBreadcrumb, {\n    nav: nav,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), product ? __jsx(ProductDetail, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }) : __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E19\\u0E35\\u0E49\"), __jsx(ProductRelated, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), __jsx(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/Users/puwong/Developer/senior/gypstore/frontend/src/features/product/ProductDetailPage.tsx"],"names":["styled","Footer","Navbar","NavBreadcrumb","ProductDetail","ProductRelated","useRouter","useQuery","GET_PRODUCT_DETAIL","Container","div","ProductDetailPage","router","productId","query","pid","console","log","data","loading","variables","id","skip","product","productItem","nav","link","icon","text","category","name"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AAEA,MAAMC,SAAS,GAAGT,MAAM,CAACU,GAAI;;;;;CAA7B;AAOA,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AAAA;;AACrC,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACA,QAAMO,SAAS,GAAGD,MAAH,aAAGA,MAAH,wCAAGA,MAAM,CAAEE,KAAX,kDAAG,cAAeC,GAAjC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ;AACA,QAAM;AAAEK,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBZ,QAAQ,CAACC,kBAAD,EAAqB;AACrDY,IAAAA,SAAS,EAAE;AACTC,MAAAA,EAAE,EAAER;AADK,KAD0C;AAIrDS,IAAAA,IAAI,EAAE,CAACT;AAJ8C,GAArB,CAAlC;AAMA,MAAI,CAACD,MAAL,EAAa,OAAO,IAAP;AACb,MAAIO,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACb,MAAI,CAACD,IAAL,EAAW,OAAO,IAAP;AACX,QAAMK,OAAO,GAAGL,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEM,WAAtB;AAEA,QAAMC,GAAG,GAAG,CACV;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,IAAI,EAAE;AAHR,GADU,EAMV;AACEF,IAAAA,IAAI,EAAG,aAAY,CAAAH,OAAO,SAAP,IAAAA,OAAO,WAAP,iCAAAA,OAAO,CAAEM,QAAT,wEAAmBC,IAAnB,KAA2B,aAAc,EAD9D;AAGEF,IAAAA,IAAI,EAAE,CAAAL,OAAO,SAAP,IAAAA,OAAO,WAAP,kCAAAA,OAAO,CAAEM,QAAT,0EAAmBC,IAAnB,KAA2B;AAHnC,GANU,EAWV;AACEJ,IAAAA,IAAI,EAAG,YAAW,CAAAH,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEF,EAAT,KAAe,EAAG,EADtC;AAEEO,IAAAA,IAAI,EAAE,CAAAL,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEO,IAAT,KAAiB;AAFzB,GAXU,CAAZ;AAgBA,SACE,4BACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AAAe,IAAA,GAAG,EAAEL,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGGF,OAAO,GACN,MAAC,aAAD;AAAe,IAAA,OAAO,EAAEA,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,GAGN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FANJ,EAQE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAFF,EAYE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF;AAgBD,CA/CM","sourcesContent":["import styled from '@emotion/styled'\nimport { Footer } from '../../component/Footer'\nimport { Navbar } from '../navigation/Navbar'\nimport { NavBreadcrumb } from '../navigation/NavBreadcrumb'\nimport { ProductDetail } from './ProductDetail'\nimport { ProductRelated } from './ProductRelated'\nimport { useRouter } from 'next/router'\nimport { useQuery } from '@apollo/react-hooks'\nimport { GET_PRODUCT_DETAIL } from './gql'\n\nconst Container = styled.div`\n  padding: 3rem 0rem;\n  width: 100%;\n  margin: auto;\n  background-color: #ececec;\n`\n\nexport const ProductDetailPage = () => {\n  const router = useRouter()\n  const productId = router?.query?.pid\n  console.log(productId)\n  const { data, loading } = useQuery(GET_PRODUCT_DETAIL, {\n    variables: {\n      id: productId,\n    },\n    skip: !productId,\n  })\n  if (!router) return null\n  if (loading) return <div>Loading...</div>\n  if (!data) return null\n  const product = data?.productItem as ProductItem\n\n  const nav = [\n    {\n      link: '/',\n      icon: 'home',\n      text: 'Home',\n    },\n    {\n      link: `/category/${product?.category?.name || 'แผ่นยิปซั่ม'}`,\n\n      text: product?.category?.name || 'แผ่นยิปซั่ม',\n    },\n    {\n      link: `/product/${product?.id || ''}`,\n      text: product?.name || '',\n    },\n  ]\n  return (\n    <>\n      <Navbar />\n      <Container>\n        <NavBreadcrumb nav={nav} />\n\n        {product ? (\n          <ProductDetail product={product} />\n        ) : (\n          <h1>ไม่มีสินค้านี้</h1>\n        )}\n        <ProductRelated />\n      </Container>\n      <Footer />\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}