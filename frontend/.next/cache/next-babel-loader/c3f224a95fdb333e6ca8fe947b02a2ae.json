{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/nutchanonploypray/work/gypstore/frontend/src/features/shopping-cart/ShoppingCart.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport styled from '@emotion/styled';\nimport { ProductCardTall } from '../product/ProductCardTall';\nimport { AmountInput } from '../../component/AmountInput';\nimport { Button, message, Icon, Modal } from 'antd';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { DELETE_ITEM } from './gql';\nimport { GET_ME } from '../navigation/gql';\nconst {\n  confirm\n} = Modal;\nconst Container = styled.div`\n  background-color: white;\n  width: 90%;\n  margin: 2rem auto;\n  padding: 2rem;\n`;\nconst CartTable = styled.div`\n  display: grid;\n  grid-template-rows: 1fr;\n  background-color: rgb(236, 236, 236);\n  grid-gap: 1px;\n`;\nconst CartRow = styled.div`\n  display: grid;\n  grid-template-columns: 3fr 1fr 1fr 1fr;\n  grid-gap: 1.5rem;\n  background-color: white;\n`;\nconst CartSumRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n  background-color: white;\n`;\nconst Product = styled.div`\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1fr 3fr;\n  padding: 1rem;\n`;\nconst Price = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst Amount = styled(Price)``;\nconst ProductName = styled(Price)``;\nconst StyledButton = styled(Button)`\n  background-color: #ff8e0a;\n  font-size: 1rem;\n  padding: 0rem 2rem;\n`;\nconst DeleteIcon = styled(Icon)`\n  cursor: pointer;\n  & svg {\n    fill: red;\n  }\n  margin-left: 1rem;\n  font-size: 1.25rem;\n`;\nexport const ShoppingCart = () => {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(GET_ME);\n  const [deleteProductItem] = useMutation(DELETE_ITEM, {\n    update(cache, mutationResult) {\n      const {\n        me\n      } = cache.readQuery({\n        query: GET_ME\n      });\n      const user = me;\n      const oldShoppingItems = [...user.shoppingCart.productItems];\n      console.log('old', oldShoppingItems);\n      const newShoppingItems = oldShoppingItems.filter(i => i.id !== mutationResult.data.id);\n      console.log('new', newShoppingItems);\n\n      const newUser = _objectSpread({}, user);\n\n      newUser.shoppingCart.productItems = [];\n      console.log(newUser, mutationResult); // cache.writeData(newUser)\n    }\n\n  });\n  if (loading) return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Lodaing...\");\n  const me = data.me;\n  const shoppingCart = me.shoppingCart;\n  const shoppingCartItems = shoppingCart.productItems;\n\n  const showDeleteConfirm = async key => {\n    confirm({\n      title: `Are you sure delete this ${key}?`,\n      content: 'Some descriptions',\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n\n      async onOk() {\n        await deleteItem(key);\n      },\n\n      onCancel() {\n        console.log('Cancel');\n      }\n\n    });\n  };\n\n  const deleteItem = async key => {\n    try {\n      await deleteProductItem({\n        variables: {\n          key\n        }\n      });\n      message.success('รบรายการ สำเร็จ');\n    } catch (error) {\n      message.error('error has occur');\n    }\n  };\n\n  return __jsx(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"\\u0E23\\u0E16\\u0E40\\u0E02\\u0E47\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 (\", shoppingCartItems.length, \")\"), __jsx(CartTable, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(CartRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"), __jsx(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"\\u0E23\\u0E32\\u0E04\\u0E32\"), __jsx(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u0E1B\\u0E23\\u0E34\\u0E21\\u0E32\\u0E13\"), __jsx(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"\\u0E23\\u0E32\\u0E04\\u0E32\\u0E23\\u0E27\\u0E21\")), shoppingCartItems.map(item => {\n    const {\n      product,\n      amount\n    } = item;\n    return __jsx(CartRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, __jsx(Product, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, __jsx(ProductCardTall, {\n      buyable: false,\n      onlyImage: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), __jsx(ProductName, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, product.name, __jsx(DeleteIcon, {\n      onClick: () => showDeleteConfirm(`${product.id}${shoppingCart.id}`),\n      type: \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }))), __jsx(Price, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, product.salePrice, \" \\u0E1A\\u0E32\\u0E17 / \", product.unitType), __jsx(Amount, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, __jsx(AmountInput, {\n      onChange: e => null,\n      amount: amount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), __jsx(Price, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, (+product.salePrice * amount).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"));\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(CartSumRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"\\u0E23\\u0E32\\u0E04\\u0E32\\u0E23\\u0E27\\u0E21 (\", shoppingCartItems.length, \" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23)\"), __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, shoppingCartItems.reduce((prv, cur) => prv + cur.amount * +cur.product.salePrice, 0).toLocaleString(), ' ', \"\\u0E1A\\u0E32\\u0E17\")), __jsx(CartSumRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, __jsx(StyledButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E43\\u0E1A\\u0E40\\u0E2A\\u0E19\\u0E2D\\u0E23\\u0E32\\u0E04\\u0E32\"), __jsx(StyledButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"\\u0E16\\u0E31\\u0E14\\u0E44\\u0E1B\")))));\n};","map":{"version":3,"sources":["/Users/nutchanonploypray/work/gypstore/frontend/src/features/shopping-cart/ShoppingCart.tsx"],"names":["styled","ProductCardTall","AmountInput","Button","message","Icon","Modal","useQuery","useMutation","DELETE_ITEM","GET_ME","confirm","Container","div","CartTable","CartRow","CartSumRow","Product","Price","Amount","ProductName","StyledButton","DeleteIcon","ShoppingCart","data","loading","error","deleteProductItem","update","cache","mutationResult","me","readQuery","query","user","oldShoppingItems","shoppingCart","productItems","console","log","newShoppingItems","filter","i","id","newUser","shoppingCartItems","showDeleteConfirm","key","title","content","okText","okType","cancelText","onOk","deleteItem","onCancel","variables","success","length","map","item","product","amount","name","salePrice","unitType","e","toLocaleString","reduce","prv","cur"],"mappings":"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","sourcesContent":["import styled from '@emotion/styled'\nimport { ProductCardTall } from '../product/ProductCardTall'\nimport { AmountInput } from '../../component/AmountInput'\nimport { Button, message, Icon, Modal } from 'antd'\nimport { useQuery, useMutation } from '@apollo/react-hooks'\nimport { DELETE_ITEM } from './gql'\nimport { GET_ME } from '../navigation/gql'\nconst { confirm } = Modal\n\nconst Container = styled.div`\n  background-color: white;\n  width: 90%;\n  margin: 2rem auto;\n  padding: 2rem;\n`\n\nconst CartTable = styled.div`\n  display: grid;\n  grid-template-rows: 1fr;\n  background-color: rgb(236, 236, 236);\n  grid-gap: 1px;\n`\n\nconst CartRow = styled.div`\n  display: grid;\n  grid-template-columns: 3fr 1fr 1fr 1fr;\n  grid-gap: 1.5rem;\n  background-color: white;\n`\nconst CartSumRow = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n  background-color: white;\n`\nconst Product = styled.div`\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1fr 3fr;\n  padding: 1rem;\n`\nconst Price = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst Amount = styled(Price)``\nconst ProductName = styled(Price)``\nconst StyledButton = styled(Button)`\n  background-color: #ff8e0a;\n  font-size: 1rem;\n  padding: 0rem 2rem;\n`\nconst DeleteIcon = styled(Icon)`\n  cursor: pointer;\n  & svg {\n    fill: red;\n  }\n  margin-left: 1rem;\n  font-size: 1.25rem;\n`\n\nexport const ShoppingCart = () => {\n  const { data, loading, error } = useQuery(GET_ME)\n  const [deleteProductItem] = useMutation(DELETE_ITEM, {\n    update(cache, mutationResult) {\n      const { me } = cache.readQuery({ query: GET_ME })\n      const user = me as User\n      const oldShoppingItems = [...user.shoppingCart.productItems]\n      console.log('old', oldShoppingItems)\n      const newShoppingItems = oldShoppingItems.filter(\n        i => i.id !== mutationResult.data.id,\n      )\n      console.log('new', newShoppingItems)\n\n      const newUser = { ...user }\n      newUser.shoppingCart.productItems = []\n      console.log(newUser, mutationResult)\n      // cache.writeData(newUser)\n    },\n  })\n  if (loading) return <div>Lodaing...</div>\n  const me = data.me as User\n  const shoppingCart = me.shoppingCart as ShoppingCart\n  const shoppingCartItems = shoppingCart.productItems\n\n  const showDeleteConfirm = async (key: string) => {\n    confirm({\n      title: `Are you sure delete this ${key}?`,\n      content: 'Some descriptions',\n      okText: 'Yes',\n      okType: 'danger',\n      cancelText: 'No',\n      async onOk() {\n        await deleteItem(key)\n      },\n      onCancel() {\n        console.log('Cancel')\n      },\n    })\n  }\n\n  const deleteItem = async (key: string) => {\n    try {\n      await deleteProductItem({ variables: { key } })\n      message.success('รบรายการ สำเร็จ')\n    } catch (error) {\n      message.error('error has occur')\n    }\n  }\n\n  return (\n    <Container>\n      <h2>รถเข็นสินค้า ({shoppingCartItems.length})</h2>\n      <CartTable>\n        <CartRow>\n          <h4>สินค้า</h4>\n          <h4>ราคา</h4>\n          <h4>ปริมาณ</h4>\n          <h4>ราคารวม</h4>\n        </CartRow>\n        {shoppingCartItems.map(item => {\n          const { product, amount } = item\n          return (\n            <CartRow>\n              <Product>\n                <ProductCardTall buyable={false} onlyImage />\n                <ProductName>\n                  {product.name}\n                  <DeleteIcon\n                    onClick={() =>\n                      showDeleteConfirm(`${product.id}${shoppingCart.id}`)\n                    }\n                    type=\"delete\"\n                  />\n                </ProductName>\n              </Product>\n              <Price>\n                {product.salePrice} บาท / {product.unitType}\n              </Price>\n              <Amount>\n                <AmountInput onChange={e => null} amount={amount} />\n              </Amount>\n              <Price>\n                {(+product.salePrice * amount).toLocaleString()} บาท\n              </Price>\n            </CartRow>\n          )\n        })}\n        <div>\n          <CartSumRow>\n            <h2>ราคารวม ({shoppingCartItems.length} รายการ)</h2>\n            <h2>\n              {shoppingCartItems\n                .reduce(\n                  (prv, cur) => prv + cur.amount * +cur.product.salePrice,\n                  0,\n                )\n                .toLocaleString()}{' '}\n              บาท\n            </h2>\n          </CartSumRow>\n          <CartSumRow>\n            <StyledButton>พิมพ์ใบเสนอราคา</StyledButton>\n            <StyledButton>ถัดไป</StyledButton>\n          </CartSumRow>\n        </div>\n      </CartTable>\n    </Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}